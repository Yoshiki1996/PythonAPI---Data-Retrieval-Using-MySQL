# PythonAPI---Data-Retrieval-Using-MySQL

Using Wemo Smart Switches to retrieve the data such as the state of the appliance,
current drained by the appliance, dates the appliance was one for, etc. and storing
it in a MySQL database. These data will then be used to generate plots. mysql_plot
specifically plots the current drained by the appliance vs. time. 

wemo_table: Retrieves all available appliances using Wemo Switch and generates table
             in MySQL
             
wemo_data: Retrieves all information such as state, currentpower, total on time, etc.
            and stores it into the respective tables in MySQL real-time.
            
wemo_plot: Retrieves the data and plots currentpower vs. time

How wemo_plot works: For the first time a plot is generated, you will obtain a plot from the beginning to
end of the dataset. If you run wemo_data multiple times (eg. running code on different days) notice that 
in the table, IND\_[SWITCH_NAME] there are two columns of interest: mysql_index and python_index. mysql_index
fetches the index corresponding to that particular day, and by setting start_index = cursorObject.fetchall()[python_index][0] (line 477), you can plot starting from that data. 

# Requirements:
1) Python Version 3 or higher
2) A database named, 'DATA' in MySQL

Modules:
1) Numpy
2) Scipy
3) Ouimeaux

Note: All modules are commented and explained within the python files. The two python files, socket and
pywsgi have been modified to reduce the errors that conflict between Py2 and Py3. These errors do not
affect any process generated by the wemo python files and only show up once when run on wemo_data.py
